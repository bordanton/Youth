{% extends "master/master.html" %}

{% block title %}Itinerary{% endblock %}

{% block content %}
<div class="pageheader">
	<a href="/">Home</a>
	<a href="/transit?from={{data.context.from_location}}" target="_blank">Route options</a>
</div>
<section class="itinerary">
	<div class="buttons">	
		<div class="blue button" onclick="window.print()">Print</div>
	</div>
	<h1>{{data.title}}</h1>
	{% if data.summary != null%}
		<div class="summary">{{data.summary}}</div>
	{% endif %}
	<hr/>
	{% for step in data.steps %}
	<div class="step">
		<div class="info">
			<div class="time">{{step.start_time}}</div>
			<div class="hint">{{step.hint}}</div>
		</div>
		<div class="instuction">
			<div class="text">{{step.instruction}}</div>
            {% for detail in step.details %}			
				<div id="details_showbutton_{{forloop.counter}}_{{forloop.parentloop.counter}}" class="gray button" onclick="DirectionsPage.showDetails('{{forloop.counter}}_{{forloop.parentloop.counter}}', '{{detail.action}}', '{{detail.data}}')">
					{{detail.show_label}}						
				</div>
				<div id="details_hidebutton_{{forloop.counter}}_{{forloop.parentloop.counter}}" class="gray button" onclick="DirectionsPage.hideDetails('{{forloop.counter}}_{{forloop.parentloop.counter}}')" style="display:none">
					{{detail.hide_label}}
				</div>						
            {% endfor %}
            {% for detail in step.details %}			
				<div id="details_pane_{{forloop.counter}}_{{forloop.parentloop.counter}}" style="display:none">
					<div class="details">														
					</div>
				</div>
            {% endfor %}
		</div>
	</div>
	{% endfor %}
</section>
{% endblock %}

{% block scripts %}
<script type="text/javascript" src="https://maps.google.com/maps/api/js?libraries=geometry&sensor=false">
</script>
<script type="text/javascript" src="scripts/directions.js"></script>
<script type="text/javascript" src="scripts/map.js"></script>
{% endblock %}